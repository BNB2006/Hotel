{% load static %}
<nav class="myoyo-navbar">
  <div class="myoyo-navbar-container">
    <!-- Logo -->
    <a href="/" class="myoyo-navbar-logo">
      <i class="fas fa-hotel"></i>
      <span>myOYO</span>
    </a>
    <!-- Hamburger for mobile -->
    <button class="myoyo-navbar-toggle" id="myoyo-navbar-toggle" aria-label="Toggle navigation">
      <span></span><span></span><span></span>
    </button>
    <!-- Nav Links -->
    <div class="myoyo-navbar-links" id="myoyo-navbar-links">
      <ul class="myoyo-navbar-menu">
        <li><a href="/" class="myoyo-navbar-link"><i class="fas fa-home"></i> Home</a></li>
        <li><a href="{% url 'hotels' %}" class="myoyo-navbar-link"><i class="fas fa-hotel"></i> Hotels</a></li>
      </ul>
      <ul class="myoyo-navbar-profile">
        {% if user.is_authenticated %}
        <li class="myoyo-profile-dropdown">
          <a href="#" class="myoyo-profile-toggle">
            {% if user.profile_picture %}
              <img src="/media/{{ user.profile_picture }}" alt="Profile" class="myoyo-profile-avatar">
            {% else %}
              <span class="myoyo-profile-placeholder"><i class="fas fa-user"></i></span>
            {% endif %}
            <span>{{ user.first_name|default:user.username }}</span>
            <i class="fas fa-caret-down"></i>
          </a>
          <ul class="myoyo-dropdown-menu">
            <li><a href="{% url 'user_profile' %}"><i class="fas fa-user"></i> Profile</a></li>
            <li><a href="{% url 'logout_user' %}"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
          </ul>
        </li>
        {% else %}
        <li><a href="{% url 'login_page' %}" class="myoyo-navbar-link"><i class="fas fa-sign-in-alt"></i> Login</a></li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>


<script>
document.addEventListener('DOMContentLoaded', function() {
  // Hamburger menu toggle
  const toggle = document.getElementById('myoyo-navbar-toggle');
  const links = document.getElementById('myoyo-navbar-links');
  toggle.addEventListener('click', function() {
    links.classList.toggle('active');
    toggle.classList.toggle('active');
  });

  // Profile dropdown
  const profileToggle = document.querySelector('.myoyo-profile-toggle');
  if (profileToggle) {
    profileToggle.addEventListener('click', function(e) {
      e.preventDefault();
      this.parentElement.classList.toggle('open');
    });
    document.addEventListener('click', function(e) {
      if (!profileToggle.contains(e.target)) {
        profileToggle.parentElement.classList.remove('open');
      }
    });
  }
});
</script>

